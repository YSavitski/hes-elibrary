<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="common/header :: common-header"></th:block>
</head>

<body>
<th:block th:include="common/header :: navbar"></th:block>

<div class="container">
    <div class="row" style="margin-bottom: -100px">
        <div class="col-xs-8">
            <h2 class="section-headline">
                <h2 class="section-headline"><span th:text="${#strings.toUpperCase(user.username)}"></span></h2>
            </h2>
        </div>
        <div class="col-xs-4">
            <img src="/img/logo.png" class="img-responsive"/>
        </div>
    </div>
    <hr style="position:absolute; width:100%; height:6px; background-color: #333; z-index:-1; margin-top:-80px;"/>
    <img class="img-responsive" src="/img/wood.png" style="margin-top: -75px;"/>

    <div class="row" style="margin-top: 60px">
        <div class="col-xs-9 col-xs-offset-3">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs">
                <li th:classappend="${classActiveEdit}? 'active'"><a href="#tab-1" data-toggle="tab"><span
                        style="color: red">Edit</span></a></li>
                <li th:classappend="${classActiveOrders}? 'active'"><a href="#tab-2" data-toggle="tab"><span
                        style="color: red">Orders</span></a></li>
                <li th:classappend="${classActiveBilling}? 'active'"><a href="#tab-3" data-toggle="tab"><span
                        style="color: red">Billing</span></a></li>
                <li th:classappend="${classActiveShipping}? 'active'"><a href="#tab-4" data-toggle="tab"><span
                        style="color: red">Shipping</span></a></li>
            </ul>

            <!--Tab panels-->
            <div class="tab-content">

                <!--Edit user inforamtion-->
                <div class="tab-pane fade" id="tab-1" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none">
                            <div class="panel-body" style="background-color: #ededed; margin-top: 20px">
                                <form th:action="@{/updateUserInfo}" method="post">
                                    <input type="hidden" name="id" th:value="${user.id}"/>
                                    <div class="bg-ifno" th:if="${updateUserInfo}">User info updated.</div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <label for="firstName">First Name</label>
                                                <input type="text" class="form-control" name="firstName"
                                                       id="firstName" th:value="${user.firstName}"/>
                                            </div>
                                            <div class="col-xs-6">
                                                <label for="lastName">Last Name</label>
                                                <input type="text" class="form-control" name="lastName"
                                                       id="lastName" th:value="${user.lastName}"/>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="username">Username</label>
                                        <input type="text" class="form-control" name="username"
                                               id="username" th:value="${user.username}"/>
                                    </div>
                                    <div class="form-group">
                                        <label for="currentPassword">Current Pasword</label>
                                        <input type="password" class="form-control" name="currentPassword"
                                               id="currentPassword" th:value="${currentPassword}"/>
                                    </div>
                                    <p style="color: #828282">Enter your current password to change the email address or
                                        password.</p>

                                    <div class="form-group">
                                        <label for="email">* Email Address</label>
                                        <input type="text" class="form-control" name="email"
                                               id="email" th:value="${user.email}"/>
                                    </div>
                                    <p style="color: #828282">A valid email address. All emails from the system
                                        will be sent to this address. The email address is not made public and
                                        will only be used if you wish to receive a new password or wish to receive
                                        certain notification.</p>

                                    <div class="form-group">
                                        <label for="txtNewPassword">Password</label>
                                        <input type="password" class="form-control" name="newPassword"
                                               id="txtNewPassword"/>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtConfirmPassword">Confirm Password</label>
                                        <input type="password" class="form-control" name="confirmPassword"
                                               id="txtConfirmPassword"/>
                                    </div>
                                    <p style="color: #828282">To change the current user password, enter the new password in both fields.</p>


                                    <button type="submit" class="btn btn-primary">Edit</button>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Order Information-->
                <div class="tab-pane fade" id="tab-2" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none">
                            <div class="panel-body" style="background-color: #ededed; margin-top: 20px">

                            </div>
                        </div>
                    </div>
                </div>

                <!--Order Information-->
                <div class="tab-pane fade" id="tab-3" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none">
                            <div class="panel-body" style="background-color: #ededed; margin-top: 20px">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item active">
                                        <a th:href="@{/listOfCreditCard}" th:style="${listOfCreditCards}? 'color:red'">List of Credit Cards</a>
                                    </li>
                                    <li class="breadcrumb-item active">
                                        <a th:href="@{/addNewCreditCard}" th:style="${addNewCreditCard}? 'color:red'">Add(Update) Credit Card</a>
                                    </li>
                                </ol>

                                <div th:if="${listOfCreditCards}">
                                    <form th:action="@{/setDefaultPayment}" method="post">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Default</th>
                                                    <th>Credit Card</th>
                                                    <th>Operations</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="userPayment : ${userPaymentList}">
                                                    <td>
                                                        <input type="radio" name="defaultUserPaymentId" th:value="${userPayment.id}" th:checked="${userPayment.defaultPayment}"/>
                                                    </td>
                                                    <td th:text="${userPayment.cardName}"></td>
                                                    <td>
                                                        <a th:href="@{/updateCreditCard(id=${userPayment.id})}"><i class="fa fa-pencil"></i></a>
                                                        <a th:href="@{/removeCreditCard(id=${userPayment.id})}"><i class="fa fa-times"></i></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary" type="submit">Save</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Order Information-->
                <div class="tab-pane fade" id="tab-4" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="panel-group">
                        <div class="panel panel-default" style="border: none">
                            <div class="panel-body" style="background-color: #ededed; margin-top: 20px">

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<th:block th:include="common/header :: body-bottom-scripts"></th:block>
</body>
</html>